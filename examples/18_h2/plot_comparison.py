"""
This is a naive helper script to plot some previously generated data to compare
electrolyzer performance if you evenly distribute electricity or fill up
individual electrolyzer stacks first.

The main takeaway for these models is that it's better to fill up individual
electrolyzer stacks instead of evenly distributing electricity, at least when
using these simple models.
"""

import numpy as np
import matplotlib.pyplot as plt

wind = np.array(
    [
        3.0,
        3.12121212,
        3.24242424,
        3.36363636,
        3.48484848,
        3.60606061,
        3.72727273,
        3.84848485,
        3.96969697,
        4.09090909,
        4.21212121,
        4.33333333,
        4.45454545,
        4.57575758,
        4.6969697,
        4.81818182,
        4.93939394,
        5.06060606,
        5.18181818,
        5.3030303,
        5.42424242,
        5.54545455,
        5.66666667,
        5.78787879,
        5.90909091,
        6.03030303,
        6.15151515,
        6.27272727,
        6.39393939,
        6.51515152,
        6.63636364,
        6.75757576,
        6.87878788,
        7.0,
        7.12121212,
        7.24242424,
        7.36363636,
        7.48484848,
        7.60606061,
        7.72727273,
        7.84848485,
        7.96969697,
        8.09090909,
        8.21212121,
        8.33333333,
        8.45454545,
        8.57575758,
        8.6969697,
        8.81818182,
        8.93939394,
        9.06060606,
        9.18181818,
        9.3030303,
        9.42424242,
        9.54545455,
        9.66666667,
        9.78787879,
        9.90909091,
        10.03030303,
        10.15151515,
        10.27272727,
        10.39393939,
        10.51515152,
        10.63636364,
        10.75757576,
        10.87878788,
        11.0,
        11.12121212,
        11.24242424,
        11.36363636,
        11.48484848,
        11.60606061,
        11.72727273,
        11.84848485,
        11.96969697,
        12.09090909,
        12.21212121,
        12.33333333,
        12.45454545,
        12.57575758,
        12.6969697,
        12.81818182,
        12.93939394,
        13.06060606,
        13.18181818,
        13.3030303,
        13.42424242,
        13.54545455,
        13.66666667,
        13.78787879,
        13.90909091,
        14.03030303,
        14.15151515,
        14.27272727,
        14.39393939,
        14.51515152,
        14.63636364,
        14.75757576,
        14.87878788,
        15.0,
    ]
)

power = (
    np.array(
        [
            79040.23829167,
            89513.98541493,
            101519.50584995,
            114946.78590192,
            129685.81187604,
            145626.57007749,
            162659.04681147,
            180673.22838318,
            199559.10109779,
            219206.65126051,
            239505.86517653,
            260641.27904994,
            283773.53567873,
            308893.10144082,
            335810.41227748,
            364335.90412997,
            394280.01293956,
            425453.17464752,
            457665.82519511,
            490746.10207538,
            525487.10260819,
            562563.40286696,
            601846.40096925,
            642909.19555042,
            685466.36213581,
            729240.31506494,
            774555.62831752,
            822250.64226261,
            872188.03441823,
            923781.82225085,
            976817.15703046,
            1032430.99149198,
            1089959.19846525,
            1149583.68614509,
            1210964.44190099,
            1274887.86584665,
            1340918.63817437,
            1408825.57183281,
            1478881.16836728,
            1551357.92932311,
            1626395.12278772,
            1703659.56238891,
            1783189.72508058,
            1865074.93654479,
            1949319.5939107,
            2036013.53828109,
            2125246.61075873,
            2217193.58609455,
            2312134.2342762,
            2410064.06409277,
            2510765.74233357,
            2614019.41583827,
            2719629.46003535,
            2827478.37384019,
            2937186.83940821,
            3048535.00357909,
            3170280.94298148,
            3302965.44747139,
            3366299.50960774,
            3370000.08965917,
            3370000.13775245,
            3370000.16952213,
            3370000.19033461,
            3370000.20554804,
            3370000.22124559,
            3370000.24288785,
            3370000.27584123,
            3370000.32982512,
            3370000.436206,
            3370000.61538681,
            3370000.85553321,
            3370001.14204564,
            3370001.46032455,
            3370001.79583219,
            3370002.13247135,
            3370002.45489459,
            3370002.74850238,
            3370002.99869514,
            3370003.19087331,
            3370003.31043733,
            3370003.34393094,
            3370003.29235695,
            3370003.1675321,
            3370002.98119763,
            3370002.74203031,
            3370002.46624462,
            3370002.16536751,
            3370001.85092592,
            3370001.5344468,
            3370001.2274571,
            3370000.94148378,
            3370000.68805377,
            3370000.47869404,
            3370000.32493152,
            3370000.24159535,
            3370000.21488728,
            3370000.19370821,
            3370000.17382488,
            3370000.15525924,
            3370000.13803323,
        ]
    )
    / 1.0e6
)

h2_prod_rate = np.array(
    [
        1.01838166,
        1.19496803,
        1.39714813,
        1.62297922,
        1.87051848,
        2.13782561,
        2.42296523,
        2.72400907,
        3.03903781,
        3.36614273,
        3.70342708,
        4.05388635,
        4.43662101,
        4.85125448,
        5.29443551,
        5.76283223,
        6.25313716,
        6.76207146,
        7.28638841,
        7.82316289,
        8.38508622,
        8.98276933,
        9.61378104,
        10.27094045,
        10.94941146,
        11.6445479,
        12.06996705,
        12.8770637,
        13.71789582,
        14.58216258,
        15.46593064,
        16.38768668,
        17.33589521,
        18.31308741,
        19.31324357,
        20.34866426,
        21.41173129,
        22.49825216,
        23.61211075,
        24.49725853,
        25.76179392,
        27.05386768,
        28.37348219,
        29.72146011,
        31.09720301,
        32.50149639,
        33.93508658,
        35.40002868,
        36.65271373,
        38.29931922,
        39.97571288,
        41.67740738,
        43.40047415,
        45.14238738,
        46.89654989,
        48.39600654,
        50.44342473,
        52.64652195,
        53.68804753,
        53.74870597,
        53.74870676,
        53.74870728,
        53.74870762,
        53.74870787,
        53.74870813,
        53.74870849,
        53.74870903,
        53.74870991,
        53.74871165,
        53.74871459,
        53.74871853,
        53.74872322,
        53.74872844,
        53.74873394,
        53.74873945,
        53.74874474,
        53.74874955,
        53.74875365,
        53.7487568,
        53.74875876,
        53.74875931,
        53.74875846,
        53.74875642,
        53.74875336,
        53.74874944,
        53.74874492,
        53.74873999,
        53.74873484,
        53.74872965,
        53.74872462,
        53.74871994,
        53.74871578,
        53.74871235,
        53.74870983,
        53.74870846,
        53.74870803,
        53.74870768,
        53.74870735,
        53.74870705,
        53.74870677,
    ]
)


even_wind = np.array(
    [
        3.0,
        3.12121212,
        3.24242424,
        3.36363636,
        3.48484848,
        3.60606061,
        3.72727273,
        3.84848485,
        3.96969697,
        4.09090909,
        4.21212121,
        4.33333333,
        4.45454545,
        4.57575758,
        4.6969697,
        4.81818182,
        4.93939394,
        5.06060606,
        5.18181818,
        5.3030303,
        5.42424242,
        5.54545455,
        5.66666667,
        5.78787879,
        5.90909091,
        6.03030303,
        6.15151515,
        6.27272727,
        6.39393939,
        6.51515152,
        6.63636364,
        6.75757576,
        6.87878788,
        7.0,
        7.12121212,
        7.24242424,
        7.36363636,
        7.48484848,
        7.60606061,
        7.72727273,
        7.84848485,
        7.96969697,
        8.09090909,
        8.21212121,
        8.33333333,
        8.45454545,
        8.57575758,
        8.6969697,
        8.81818182,
        8.93939394,
        9.06060606,
        9.18181818,
        9.3030303,
        9.42424242,
        9.54545455,
        9.66666667,
        9.78787879,
        9.90909091,
        10.03030303,
        10.15151515,
        10.27272727,
        10.39393939,
        10.51515152,
        10.63636364,
        10.75757576,
        10.87878788,
        11.0,
        11.12121212,
        11.24242424,
        11.36363636,
        11.48484848,
        11.60606061,
        11.72727273,
        11.84848485,
        11.96969697,
        12.09090909,
        12.21212121,
        12.33333333,
        12.45454545,
        12.57575758,
        12.6969697,
        12.81818182,
        12.93939394,
        13.06060606,
        13.18181818,
        13.3030303,
        13.42424242,
        13.54545455,
        13.66666667,
        13.78787879,
        13.90909091,
        14.03030303,
        14.15151515,
        14.27272727,
        14.39393939,
        14.51515152,
        14.63636364,
        14.75757576,
        14.87878788,
        15.0,
    ]
)

even_power = (
    np.array(
        [
            79040.23829167,
            89513.98541493,
            101519.50584995,
            114946.78590192,
            129685.81187604,
            145626.57007749,
            162659.04681147,
            180673.22838318,
            199559.10109779,
            219206.65126051,
            239505.86517653,
            260641.27904994,
            283773.53567873,
            308893.10144082,
            335810.41227748,
            364335.90412997,
            394280.01293956,
            425453.17464752,
            457665.82519511,
            490746.10207538,
            525487.10260819,
            562563.40286696,
            601846.40096925,
            642909.19555042,
            685466.36213581,
            729240.31506494,
            774555.62831752,
            822250.64226261,
            872188.03441823,
            923781.82225085,
            976817.15703046,
            1032430.99149198,
            1089959.19846525,
            1149583.68614509,
            1210964.44190099,
            1274887.86584665,
            1340918.63817437,
            1408825.57183281,
            1478881.16836728,
            1551357.92932311,
            1626395.12278772,
            1703659.56238891,
            1783189.72508058,
            1865074.93654479,
            1949319.5939107,
            2036013.53828109,
            2125246.61075873,
            2217193.58609455,
            2312134.2342762,
            2410064.06409277,
            2510765.74233357,
            2614019.41583827,
            2719629.46003535,
            2827478.37384019,
            2937186.83940821,
            3048535.00357909,
            3170280.94298148,
            3302965.44747139,
            3366299.50960774,
            3370000.08965917,
            3370000.13775245,
            3370000.16952213,
            3370000.19033461,
            3370000.20554804,
            3370000.22124559,
            3370000.24288785,
            3370000.27584123,
            3370000.32982512,
            3370000.436206,
            3370000.61538681,
            3370000.85553321,
            3370001.14204564,
            3370001.46032455,
            3370001.79583219,
            3370002.13247135,
            3370002.45489459,
            3370002.74850238,
            3370002.99869514,
            3370003.19087331,
            3370003.31043733,
            3370003.34393094,
            3370003.29235695,
            3370003.1675321,
            3370002.98119763,
            3370002.74203031,
            3370002.46624462,
            3370002.16536751,
            3370001.85092592,
            3370001.5344468,
            3370001.2274571,
            3370000.94148378,
            3370000.68805377,
            3370000.47869404,
            3370000.32493152,
            3370000.24159535,
            3370000.21488728,
            3370000.19370821,
            3370000.17382488,
            3370000.15525924,
            3370000.13803323,
        ]
    )
    / 1.0e6
)

even_h2_prod_rate = np.array(
    [
        -0.25872899,
        -0.08091463,
        0.12285747,
        0.35070144,
        0.60073127,
        0.87106135,
        1.15980694,
        1.46508463,
        1.78501273,
        2.11771161,
        2.46130404,
        2.81889791,
        3.21009875,
        3.63469757,
        4.08944115,
        4.57107988,
        5.07636888,
        5.60206898,
        6.14494758,
        6.70207735,
        7.28677284,
        7.91031639,
        8.57046005,
        9.25995129,
        9.97393053,
        10.70768373,
        11.46659184,
        12.26460623,
        13.09932034,
        13.96084428,
        14.84551314,
        15.77218782,
        16.72968154,
        17.72091101,
        18.74011435,
        19.80022331,
        20.89387783,
        22.01712575,
        23.17434711,
        24.36989418,
        25.60589678,
        26.87670191,
        28.18278458,
        29.52544564,
        30.90458394,
        32.32148958,
        33.77743921,
        35.27507777,
        36.81873146,
        38.4080793,
        40.0393508,
        41.70875681,
        43.41292266,
        45.14975263,
        46.91296038,
        48.69886279,
        50.64734313,
        52.76593731,
        53.77539161,
        53.83433751,
        53.83433827,
        53.83433878,
        53.83433911,
        53.83433935,
        53.8343396,
        53.83433995,
        53.83434047,
        53.83434133,
        53.83434303,
        53.83434588,
        53.83434971,
        53.83435427,
        53.83435934,
        53.83436468,
        53.83437005,
        53.83437518,
        53.83437986,
        53.83438384,
        53.83438691,
        53.83438881,
        53.83438934,
        53.83438852,
        53.83438653,
        53.83438357,
        53.83437976,
        53.83437536,
        53.83437057,
        53.83436556,
        53.83436052,
        53.83435563,
        53.83435108,
        53.83434704,
        53.8343437,
        53.83434126,
        53.83433993,
        53.8343395,
        53.83433917,
        53.83433885,
        53.83433855,
        53.83433828,
    ]
)


fig, axarr = plt.subplots(3, 1)

axarr[0].plot(wind, power, label="Fill up electrolyzer stacks")
axarr[0].plot(even_wind, even_power, label="Evenly distribute power")
axarr[0].set_ylabel("Power, MW")

axarr[0].legend()

axarr[1].plot(wind, h2_prod_rate)
axarr[1].plot(even_wind, even_h2_prod_rate)
axarr[1].set_ylabel("H2 production rate, kg/h")

axarr[2].plot(wind, h2_prod_rate / power)
axarr[2].plot(even_wind, even_h2_prod_rate / even_power)
axarr[2].set_ylabel("H2 production rate / power", labelpad=15)
axarr[2].set_xlabel("Wind speed, m/s")

plt.savefig("electrolyzer_comparison.png")
